!function(t){var a={};function d(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,d),i.l=!0,i.exports}d.m=t,d.c=a,d.d=function(t,a,e){d.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:e})},d.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(a,"a",a),a},d.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},d.p="/",d(d.s=14)}([,,function(t,a){},function(t,a){},function(t,a){},,,,,,,,,,function(t,a,d){d(3),d(4),d(2),t.exports=d(15)},function(t,a){function d(t){return function(t){if(Array.isArray(t)){for(var a=0,d=new Array(t.length);a<t.length;a++)d[a]=t[a];return d}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function e(t){return(e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";var a=!1;void 0!==window.et_builder_utils_params?["vb","bfb","tb","lbb"].forEach(function(t){t===window.et_builder_utils_params.builderType&&(a=!0)}):a="object"===e(window.ET_Builder),t(document).ready(function(){var e=t(window).width(),i=[];function n(t){if(!a){var d=t.parents(".dp-dfg-container");if("on"===d.attr("data-doing-ajax"))return!1;if(d.attr("data-page",1),t.val().trim().length>1){t.removeClass("search-clean");var e=t.next(".dp-dfg-search-icon");e.text(e.attr("data-icon-clear")),t.hasClass("search-active")?(t.val("").addClass("search-clean").focus(),e.text(e.attr("data-icon-search"))):t.addClass("search-active")}else t.addClass("search-clean");p(t)}}function r(a,d,e,i){var n=!1;"select"===e?(n=d.find('.dp-dfg-filters-dropdown[data-parent="'+a+'"]'),i?n.show():n.hide()):(n=d.find('.dp-dfg-level[data-parent="'+a+'"]'),i?d.parents(".dp-dfg-container").hasClass("dp-dfg-skin-left-vertical-filters")?n.css({display:"block"}):n.css({display:"flex"}):n.css({display:"none"})),n&&n.find(".dp-dfg-filter-link.active").each(function(){t(this).removeClass("active");var a=t(this).attr("data-term-id");"select"===e&&(n.find(".dp-dfg-dropdown-tag").remove(),n.find(".dp-dfg-dropdown-placehoder").show()),r(a,d,e,i)})}function o(a,e,i){var n=a.parents(".dp-dfg-container");if("on"===n.attr("data-doing-ajax"))return!1;var o=window[n.attr("data-module")],f=n.attr("data-pagination"),l=n.attr("data-multilevel").split("|"),g="on"===l[0],c=l[1],h=l[2],u=n.attr("data-multifilter").split("|"),v="on"===u[0],m=u[1],y=[],b="",w=[],x=a.children("a.dp-dfg-filter-link"),_=a.parents(".dp-dfg-level"),I=a.parents(".dp-dfg-filters"),E=n.attr("data-default-filter"),D=n.attr("data-found-posts"),O=n.attr("data-post-number");if("on"===h){var S=I.attr("data-layout"),A=x.attr("data-term-id");if(x.hasClass("active"))r(A,I,S,0);else{var T=!1;(T="select"===S?x.parents(".dp-dfg-filters-dropdown"):x.parents(".dp-dfg-level"))&&(T.find(".dp-dfg-filter-link.active").each(function(){t(this).removeClass("active"),r(t(this).attr("data-term-id"),I,S,0)}),r(A,I,S,1))}}if(v||g){if("all"===x.attr("data-term-id")){if(x.hasClass("active"))return!1;_.find(".dp-dfg-filter a.dp-dfg-filter-link.active").each(function(){t(this).removeClass("active")}),x.addClass("active")}else{v?x.hasClass("active")?x.removeClass("active"):x.addClass("active"):x.hasClass("active")?x.removeClass("active"):(_.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),x.addClass("active"));var P=_.find(".dp-dfg-filter a.dp-dfg-filter-link[data-term-id=all]");0===_.find(".dp-dfg-filter a.dp-dfg-filter-link.active").length?void 0!==P&&P.addClass("active"):void 0!==P&&P.removeClass("active")}n.find(".dp-dfg-level").each(function(){var a=[];t(this).find(".dp-dfg-filter a.dp-dfg-filter-link.active").each(function(){var d=t(this).attr("data-term-id");"all"!==d&&(y.push(d),a.push(d))}),a.length>0&&w.push(a)})}else if(x.hasClass("active")){x.removeClass("active");var q=_.find(".dp-dfg-filter a.dp-dfg-filter-link[data-term-id=all]");void 0!==q&&q.addClass("active")}else _.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),x.addClass("active"),y.push(x.attr("data-term-id"));if(""===(b=y.join("|"))&&(b="all"),n.attr("data-active-filter",b),"dropdown"===e){var R=a.parents(".dp-dfg-level");if(v&&I.find(".dp-dfg-filter-trigger-button").length||a.parents(".dp-dfg-filters-dropdown").hasClass("open")&&(a.parents(".dp-dfg-filters-dropdown").toggleClass("closed open"),R.slideUp()),"on"===n.attr("data-terms-tags")){var L=R.prev(".dp-dfg-dropdown-label"),U=x.attr("data-term-id"),M=L.find(".dp-dfg-dropdown-placehoder");if(x.hasClass("active")){var z='<span class="dp-dfg-dropdown-tag" data-id="'+U+'">'+x.text()+"</span>";v||L.find(".dp-dfg-dropdown-tag").remove(),"all"===x.attr("data-term-id")?(M.show(),L.find(".dp-dfg-dropdown-tag").remove()):(M.hide(),L.find(".dp-dfg-dropdown-tag[data-id="+U+"]").length||L.append(z))}else L.find(".dp-dfg-dropdown-tag[data-id="+U+"]").remove(),0===L.find(".dp-dfg-dropdown-tag").length&&M.show()}}i?"on"!==o.props.ajax_filters&&("off"===f||parseInt(O)>=parseInt(D)||"-1"===O)&&"All"===E?function(t,a,e,i,n,r,o,f,p){var l=t.find(".dp-dfg-items"),g=l.find(".dp-dfg-item");t.find(".dp-dfg-no-results").remove();var c=!0;if("all"===a)g.length>0?(c=!1,s(g),g.fadeIn(),"dp-dfg-layout-masonry-standard"===p.props.items_layout&&g.parents(".dp-dfg-masonry-item").css({"margin-bottom":""})):c=!0;else{var h="",u=a.split("|");if(g.attr("data-position","off").hide(),"dp-dfg-layout-masonry-standard"===p.props.items_layout&&g.parents(".dp-dfg-masonry-item").css({"margin-bottom":"0"}),i||r){var v=[];f.forEach(function(t){var a=[];Array.isArray(t)&&t.length>0&&t.forEach(function(t){a.push(".dp-dfg-term-id-"+t)}),a.length>0&&v.push(a)});var m="";if(i&&!r)m="OR"===o?v[0].join(", "):v[0].join("");else if(!i&&r){var y=[];v.forEach(function(t){y.push(t.join(""))}),m="OR"===n?y.join(", "):y.join("")}else{var b=[];if(v.forEach(function(t){"OR"===o?b.push(t.join(", ")):b.push(t.join(""))}),"OR"===n)m=b.join(", ");else if("OR"===o){var w=[];b.forEach(function(t){w.push(t.split(", "))});var x=function t(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e===a.length?i.push(n):a[e].forEach(function(r){return t(a,e+1,i,d(n).concat([r]))});return i}(w),_=[];x.forEach(function(t,a){_[a]=t.join("")}),m=w.length>0?_.join(", "):b.join("")}else m=b.join("")}var k=l.find(m);k.length>0&&(s(k),k.fadeIn(),"dp-dfg-layout-masonry-standard"===p.props.items_layout&&k.parents(".dp-dfg-masonry-item").css({"margin-bottom":""}),c=!1),t.attr("data-total-filtered",k.length)}else u.forEach(function(a){h=".dp-dfg-term-id-"+a;var d=l.find(h);d.length>0&&(s(d),d.fadeIn(),"dp-dfg-layout-masonry-standard"===p.props.items_layout&&d.parents(".dp-dfg-masonry-item").css({"margin-bottom":""}),c=!1),t.attr("data-total-filtered",d.length)})}c&&l.prepend(p.no_results);"dp-dfg-layout-masonry-standard"===p.props.items_layout&&C(t,"jquery");t.trigger("dfg_after_jquery_filtering")}(n,b,0,v,c,g,m,w,o):function(t,a,d,e){t.attr("data-page",1),e?p(d):j(t,a,1)?k(t,a,1):p(d)}(n,b,a,v):I.find(".dp-dfg-filter-trigger-button").removeClass("dp-dfg-filtering-done")}function s(a){var d=0;a.each(function(){t(this).attr("data-position",d),d++})}function f(t){return t.find(".dp-dfg-filters").hasClass("dp-dfg-filters-dropdown-layout")?"dropdown":"button"}function p(a){var d=a.parents(".dp-dfg-container");d.attr("data-doing-ajax","on");var e=d.find(".dp-dfg-items"),i=d.find(".dp-dfg-no-results"),n=parseInt(d.attr("data-page")),r=d.attr("data-active-filter"),o=d.find(".pagination"),f=o.find(".pagination-item:not(.dp-dfg-direction)"),p=o.find(".pagination-item.next-posts"),g=o.find(".pagination-item.previous-posts"),c=o.find(".pagination-item.dp-dfg-first-page"),h=o.find(".pagination-item.dp-dfg-last-page"),u=d.find(".dp-dfg-search-input"),v=window[d.attr("data-module")].props;"all"!==r?(v.use_taxonomy_terms="on",v.active_filter=r):v.active_filter="","on"===v.show_search&&void 0!==u&&(v.query_var.s=u.val().trim());var m="";(a.hasClass("dp-dfg-search-input")||a.hasClass("dp-dfg-sorting"))&&("-1"===d.attr("data-post-number")||parseInt(d.attr("data-found-posts"))<=parseInt(d.attr("data-post-number")))&&"All"===d.attr("data-default-filter")&&(v.active_filter="",m=d.attr("data-active-filter")),d.attr("data-jquery-based-filters",m);var y=void 0;v.query_context="ajax","on"===d.attr("data-sorting")&&(v.order=d.attr("data-order"),v.orderby=d.attr("data-orderby")),t.ajax({type:"POST",url:dpdfg.ajaxurl,data:{action:"dpdfg_get_posts_data_action",page:n,module_data:v,vb:"off"},beforeSend:function(){e.children().css({opacity:.15}),d.find(".dp-dfg-filters").css({opacity:.15}),d.find(".dp-dfg-search").css({opacity:.15}),d.find(".dp-dfg-sorting").css({opacity:.15}),d.find(".dp-dfg-pagination").css({opacity:.15}),e.append(dpdfg.loader_html),d.trigger("dfg_before_ajax"),y=e.find(".dp-dfg-loader").first(),a.hasClass("dp-dfg-filter")||a.hasClass("dp-dfg-search-input")||a.hasClass("dp-dfg-sorting")?y.css({top:"100px"}):y.css({top:"unset",bottom:"100px"}),"button"===v.pagination_type?d.find("a.dp-dfg-load-more-button").fadeOut("fast",function(){y.fadeIn("fast")}):y.fadeIn("fast")}}).done(function(r){var u;if(void 0!==i&&i.remove(),d.attr("data-page",n),void 0===r.no_results&&void 0===r.error){var m=parseInt(r.max_pages),b=r.posts;if("dp-dfg-layout-masonry-standard"===v.items_layout&&(b+='<div class="dp-dfg-masonry-gutter"></div>'),y.fadeOut("fast",function(){function i(){e.children().css({opacity:1}),d.attr("data-total-filtered",r.found_posts),setTimeout(function(){d.trigger("dfg_after_ajax",[r])},100),setTimeout(function(){"on"===d.attr("data-cache")&&setTimeout(function(){_(d)},500)})}a.hasClass("pagination-link")?t("html, body").animate({scrollTop:d.offset().top-200},100,"linear").promise().then(function(){e.html("").append(b),i()}):a.hasClass("dp-dfg-filter")||a.hasClass("dp-dfg-search-input")||a.hasClass("dp-dfg-sorting")?(e.html("").append(b),i()):(e.append(b),s(e.find(".dp-dfg-item")),i()),t(this).remove()}),"on"===v.show_pagination&&m>1){var C=d.find(".dp-dfg-pagination").attr("data-base-url")+"page/",w=d.find(".dp-dfg-pagination").attr("data-url-args");if(o.removeClass("dp-dfg-hide"),a.hasClass("pagination-link"))f.each(function(){var a=t(this).children("a").attr("data-page");n+parseInt(v.pagination_pages)>=a&&n-parseInt(v.pagination_pages)<=a?t(this).removeClass("dp-dfg-hide"):t(this).addClass("dp-dfg-hide")});else if(a.hasClass("dp-dfg-filter")||a.hasClass("dp-dfg-search-input")||a.hasClass("dp-dfg-sorting"))if("paged"===v.pagination_type){f.remove(),u="";for(var x=0;x<m;x++){var k="",j="",I=x+1;0===x&&(k=" active"),(x>n+parseInt(v.pagination_pages)||x<n-parseInt(v.pagination_pages))&&(j=" dp-dfg-hide"),u=u+'<li class="pagination-item'+k+j+'"><a href="'+C+I+"/"+w+'" data-page="'+I+'" class="pagination-link">'+I+"</li>"}}else l(n,m,d,v,C,w);else l(n,m,d,v,C,w);if("paged"===v.pagination_type){if(1!==o.find(".pagination-item:not(.dp-dfg-direction)").length&&o.append(u),1===g.length){var E=n>1?n-1:1;g.children(".pagination-link").attr("data-page",E).attr("href",C+E+"/"+w),o.prepend(g)}if(1===p.length){var D=n<m?n+1:m;o.append(p),p.children(".pagination-link").attr("data-page",D).attr("href",C+D+"/"+w)}1===c.length&&g.before(c),1===h.length&&(h.children(".pagination-link").attr("data-page",m).attr("href",C+m+"/"+w),p.after(h)),1===n?(g.addClass("dp-dfg-hide"),c.addClass("dp-dfg-hide"),p.removeClass("dp-dfg-hide"),h.removeClass("dp-dfg-hide")):m===n?(g.removeClass("dp-dfg-hide"),c.removeClass("dp-dfg-hide"),p.addClass("dp-dfg-hide"),h.addClass("dp-dfg-hide")):(p.removeClass("dp-dfg-hide"),h.removeClass("dp-dfg-hide"),g.removeClass("dp-dfg-hide"),c.removeClass("dp-dfg-hide"))}}else d.find(".dp-dfg-ajax-scroll").removeClass("active"),o.addClass("dp-dfg-hide")}else d.attr("data-doing-ajax","off"),o.addClass("dp-dfg-hide"),e.html("").append(r.no_results),d.trigger("dfg_no_results",[r])}).fail(function(t,a,d){y.remove(),console.log(d)}).always(function(){d.find(".dp-dfg-filters").css({opacity:1}),d.find(".dp-dfg-search").css({opacity:1}),d.find(".dp-dfg-sorting").css({opacity:1}),d.find(".dp-dfg-pagination").css({opacity:1})})}function l(t,a,d,e,i,n){var r=t+1,o=i+r+"/"+n;if("scroll"===e.pagination_type)r<=a&&d.find("a.dp-dfg-scroll-page-link").attr("href",o),t<a?d.find(".dp-dfg-ajax-scroll").addClass("active"):d.find(".dp-dfg-ajax-scroll").removeClass("active");else{var s=d.find("a.dp-dfg-load-more-button");r<=a&&s.attr("href",o),t<a?s.show():s.hide()}}function g(t){if(!a){var d={type:"image",removalDelay:500,mainClass:"mfp-fade dp-dfg-lightbox",gallery:{enabled:!0,navigateByImgClick:!0},callbacks:{beforeClose:function(){this.contentContainer.get(0).remove()}}},e=[],i=t.attr("data-images"),n=t.attr("data-content");for(var r in n=void 0!==n&&n.split("||"),i=i.split("||")){var o="";void 0!==n[r]&&""!==n[r]&&(o=h(n[r])),e.push({src:i[r],title:o})}d.items=e;var s={args:d,trigger:t};return t.trigger("dfg_open_custom_lightbox",s),!1}}function c(d,e){if(!a){var i,n={type:"image",removalDelay:500,mainClass:"mfp-fade dp-dfg-lightbox",callbacks:{beforeClose:function(){this.contentContainer.get(0).remove()}}},r=[],o=[],s=0,f=0;if(i=d.hasClass("dp-dfg-item")?d.attr("id"):d.parents("article").attr("id"),"lightbox_gallery"===e){var p=function(t){if(void 0!==t.attr("data-img")){d.hasClass("dp-dfg-item")?i===t.attr("id")&&(f=s):i===t.parents("article").attr("id")&&(f=s),s++,r.push(t.attr("data-img"));var a=t.attr("data-title");void 0!==a&&""!==a&&o.push(h(a))}};d.hasClass("dp-dfg-item")?d.parents(".dp-dfg-container").find('.dp-dfg-item:not([data-position="off"])').each(function(){p(t(this))}):d.parents(".dp-dfg-container").find('.dp-dfg-item:not([data-position="off"]) .dp-dfg-image-link.entry-thumb-lightbox').each(function(){p(t(this))}),n.gallery={enabled:!0,navigateByImgClick:!0}}else{r.push(d.attr("data-img"));var l=d.attr("data-title");void 0!==l&&""!==l&&o.push(h(l))}for(var g in r)r[g]={src:r[g],title:o[g]};n.items=r;var c={args:n,start_at:f,action:e,trigger:d};return d.trigger("dfg_open_lightbox",c),!1}}function h(a){var d="",e=JSON.parse(a);return d=t("<div/>").addClass("dp-dfg-lightbox-image-data"),e.length&&e.forEach(function(a){var e=t("<span/>").text(a);d.append(e)}),d}function u(d,e,i){var n=["mfp-fade","dp-dfg-popup","dp-dfg-lightbox"],r=e.parents(".dp-dfg-container").attr("data-module"),o=window[r],s="";if(""!==o.props.popup_code&&(s="video"===i?"?popup_css="+o.props.popup_code:"&popup_css="+o.props.popup_code),n.push(r+"-popup"),"video"===i&&n.push("dp-dfg-video-popup"),d+=s,!a){var f,p={args:{type:"iframe",preloader:!0,fixedContentPos:!0,removalDelay:300,mainClass:n.join(" "),items:{src:d},callbacks:{beforeOpen:function(){var a="";t("body").hasClass("et_divi_builder")&&(a="<style>.dp-dfg-popup-modal .mfp-close { color: black !important; top: 1px; right: 8px; font-size: 3em; } iframe#dp-dfg-popup-modal-iframe { background-color: white; }.et-fb-loader-wrapper { position: absolute; left: 50%; top: 50%; margin: -50px auto auto -50px; background: #fff; width: 100px; height: 100px; border-radius: 100px; box-shadow: 0 5px 30px rgba(43, 135, 218, 0.15); animation: et-fb-loader-wrapper ease infinite 1.5s;} .et-fb-loader { position: absolute; left: 50%; top: 50%; margin: -6px auto auto -6px; width: 12px; height: 12px; border-radius: 12px; box-shadow: 0px -17px #7e3bd0, 17px 0 #7e3bd0, 0px 17px #7e3bd0, -17px 0 #7e3bd0; animation: et-fb-loader ease infinite 3s; }</style>"),this.preloader.html(a+dpdfg.loader_html),f=this.preloader},open:function(){f.css({"z-index":1e4}).show(),this.content.find("#dp-dfg-popup-modal-iframe").on("load",function(){f.hide()})},beforeClose:function(){this.contentContainer.get(0).remove()}},iframe:{markup:'<div class="mfp-iframe-scaler dp-dfg-popup-modal"><div class="mfp-close"></div><iframe id="dp-dfg-popup-modal-iframe" class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>'}},post_ajax_url:d,trigger:e};return e.trigger("dfg_open_popup",p),!1}}function v(a,d){var e,i=a.find(".dp-dfg-image img").first();e=void 0===i?a.first().outerWidth(!1):i.width(),a.each(function(){var a=t(this).find(".dp-dfg-image img");void 0!==a&&(d=a.attr("data-ratio")),t(this).height(e*d)})}function m(){t(".dp-dfg-skin-itemsinoverlay").each(function(){v(t(this).find(".dp-dfg-item"),t(this).attr("data-ratio"))})}function y(){t(".dp-dfg-layout-masonry").each(function(){var a=t(this);a.imagesLoaded(function(){b(a)})})}function b(a){var d=a.children(".dp-dfg-items"),e=parseInt(d.css("grid-row-gap")),i=a.hasClass("dp-dfg-skin-itemsinoverlay");d.css({gridAutoRows:"auto"}),d.css({alignItems:"self-start"}),d.children(".dp-dfg-item").each(function(){t(this).css({"-ms-grid-rows":"min-content"});var a=t(this).outerHeight(!0),d=Math.ceil(a%e);if(i){var n=a+d+"px";t(this).css({height:n}),t(this).find(".dp-dfg-image img").css({height:n})}var r="span "+Math.ceil((a+d)/e);t(this).css({gridRowEnd:r})}),d.removeAttr("style"),d.addClass("dp-dfg-masonry-ready"),d.trigger("dfg_masonry_ready")}function C(t,a){var d=t.find(".dp-dfg-items");w(d);var e={gutter:".dp-dfg-masonry-gutter",itemSelector:".dp-dfg-masonry-item",percentPosition:!0};window.Masonry?(void 0!==d.data("masonry")?"ajax"===a?d.removeAttr("style").removeData("masonry").imagesLoaded(function(){d.masonry(e)}):"jquery"===a&&d.masonry("reloadItems").masonry("layout"):d.masonry(e),d.trigger("dfg_desandro_masonry_ready")):console.log("Divi FilterGrid: Desandro Masonry missing")}function w(a){a.find(".dp-dfg-media-video-wrapper").each(function(){var a=t(this).attr("data-ratio"),d=t(this).outerWidth()*a+"px";t(this).css({height:d})})}function x(){t(this).width()!==e&&(e=t(this).width(),m(),y(),t(".dp-dfg-layout-masonry-standard").each(function(){w(t(this).find(".dp-dfg-items"))}))}function _(t){var a=t.attr("data-number"),d=t.find(".dp-dfg-filter a.active").attr("data-term-id");void 0===d&&(d="all");var e=t.find(".dp-dfg-items"),n=t.find(".pagination, .dp-dfg-pagination"),r=1;0!==n.length&&(r="0"===t.attr("data-page")?1:t.attr("data-page")),void 0!==i[a]&&void 0!==i[a][d]&&void 0!==i[a][d][r]&&(i[a][d][r].posts=e.html(),i[a][d][r].pages=n.html())}function k(a,d,e){var n=a.attr("data-number"),r=a.find(".dp-dfg-items"),o=a.find(".pagination, .dp-dfg-pagination");void 0===d&&(d="all"),void 0!==e&&0!==e||(e=1),void 0!==i[n][d][e]&&(r.fadeOut("slow",function(){var a=i[n][d][e].posts;void 0!==a&&t(this).html(a).fadeIn()}),0!==o.lenght&&o.fadeOut("slow",function(){var a=i[n][d][e].pages;void 0!==a&&t(this).html(a).fadeIn()}),t("html, body").animate({scrollTop:a.offset().top-200},200,"linear"))}function j(t,a,d){if("on"===t.attr("data-cache")){void 0===a&&(a="all"),void 0!==d&&0!==d||(d=1);var e=t.attr("data-number");return void 0!==i[e]&&void 0!==i[e][a]&&void 0!==i[e][a][d]&&"posts"in i[e][a][d]}return!1}function I(){t(".dp-dfg-item.has-post-video .dp-dfg-image").each(function(){t(this).find(".wp-video-shortcode").removeAttr("width").removeAttr("height"),t.fn.fitVids&&t(this).fitVids({customSelector:"iframe"})})}function E(a){a.find("video").each(function(){var a=t(this).children("source"),d=a.attr("src").split("?")[0]+"#t=0.001";a.attr("src",d),t(this).attr("src",d)})}function D(a){if("on"===a.attr("data-video-preview")&&a.hasClass("dp-dfg-layout-masonry-standard")){var d=a.find(".dp-dfg-items");d.find("video").each(function(){t(this).on("loadeddata",function(t){d.masonry("reloadItems").masonry("layout")})})}}t(document).on("click",".dp-dfg-sort-order > span",function(d){var e=t(this).parents(".dp-dfg-container");a||(t(this).hasClass("dp-dfg-sort-order-asc")?e.attr("data-order","DESC"):e.attr("data-order","ASC"),e.attr("data-page",1),p(t(this).parents(".dp-dfg-sorting")))}),t(document).on("click",".dp-dfg-sort-option",function(d){var e=t(this).parents(".dp-dfg-container");t(this).parents(".dp-dfg-filters-dropdown").hasClass("open")&&(t(this).parents(".dp-dfg-filters-dropdown").toggleClass("closed open"),t(this).parents("ul").slideUp());var i=t(this).parents(".dp-dfg-filters-dropdown"),n=i.find(".dp-dfg-dropdown-placeholder"),r=n.attr("data-text");t(this).hasClass("active")||(i.find(".dp-dfg-sort-option.active").removeClass("active"),t(this).addClass("active"),e.attr("data-orderby",t(this).attr("data-value")),n.text(r+t(this).text()),a||(e.attr("data-page",1),p(t(this).parents(".dp-dfg-sorting"))))}),t(".dp-dfg-search-input").on("keyup",function(a){var d=t(this),e=d.next(".dp-dfg-search-icon");d.hasClass("search-active")&&(e.text(e.attr("data-icon-search")),d.removeClass("search-active")),(13===a.keyCode||13===a.which)&&d.val().trim().length>1&&n(d),8!==a.keyCode&&8!==a.which&&46!==a.keyCode&&46!==a.which||0!==d.val().trim().length||(d.removeClass("search-active"),d.hasClass("search-clean")||e.click())}),t(".dp-dfg-search-icon").click(function(){n(t(this).prev(".dp-dfg-search-input"))}),t(document).on("click",".dp-dfg-level > .dp-dfg-filter",function(d){d.preventDefault();var e=t(this).parents(".dp-dfg-container"),i=e.attr("data-filter-method"),n=f(e);if(!a)switch(i){case"button":o(t(this),n,!1);break;case"last_level":if("on"===e.attr("data-multilevel").split("|")[2]){var r=t(this).find(".dp-dfg-filter-link").attr("data-term-id"),s=0;s="dropdown"===n?e.find('.dp-dfg-filters-dropdown[data-parent="'+r+'"]').length:e.find('.dp-dfg-level[data-parent="'+r+'"]').length,o(t(this),n,!s)}else o(t(this),n,!0);break;case"default":default:o(t(this),n,!0)}}),t(document).on("click",".dp-dfg-filter-trigger-button",function(a){if(a.preventDefault(),!t(this).hasClass("dp-dfg-filtering-done")){var d=t(this).parents(".dp-dfg-container"),e=f(d);"dropdown"===e&&d.find(".dp-dfg-filters-dropdown.open").each(function(){t(this).toggleClass("closed open").children(".dp-dfg-level").slideUp()});var i=d.find(".dp-dfg-filter-link.active");if(i.length>0){var n=i.last();n.removeClass("active"),o(n.parents(".dp-dfg-filter"),e,!0),t(this).addClass("dp-dfg-filtering-done")}}}),t(document).on("click",".dp-dfg-clear-filters-button",function(a){a.preventDefault();var d=t(this).parents(".dp-dfg-container"),e=f(d),i=d.find(".dp-dfg-filters");"on"===d.attr("data-multilevel").split("|")[2]&&i.find('.dp-dfg-level:not([data-parent="0"])').hide();var n=i.find('.dp-dfg-filter-link.active:not([data-term-id="all"])');if(n.length>0){n.removeClass("active");var r=i.find('.dp-dfg-filter-link[data-term-id="all"]:not(.active)');if(r.length>0){var s=r.length;r.each(function(){s>1?t(this).addClass("active"):o(t(this).parents(".dp-dfg-filter"),e,!0),s--})}else n.last().addClass("active"),o(n.last().parents(".dp-dfg-filter"),e,!0);"dropdown"===e&&i.find(".dp-dfg-filters-dropdown").each(function(){t(this).find(".dp-dfg-dropdown-tag").remove(),t(this).find(".dp-dfg-dropdown-placehoder").show()})}}),t(document).on("click",".dp-dfg-dropdown-label",function(){var a=t(this).parents(".dp-dfg-filters-dropdown");a.hasClass("closed")?(t(this).next().slideDown(),t(".dp-dfg-filters-dropdown.open").toggleClass("closed open").find(".dp-dfg-level").slideUp()):t(this).next().slideUp(),a.toggleClass("closed open")}),t(document).on("click",".dp-dfg-dropdown-tag",function(a){a.stopPropagation();var d=t(this).attr("data-id");t(this).parents(".dp-dfg-dropdown-label").next(".dp-dfg-level").find(".dp-dfg-filter-link[data-term-id="+d+"]").click()}),t(".dpdfg_filtergrid .dp-dfg-container").each(function(){var a=t(this),d=t(this).attr("data-link-filter");if(void 0!==d&&""!==d){var e=d.split("|");if(e.length>0){var i=f(a),n=0;e.forEach(function(t){var d=a.find('.dp-dfg-filter-link[data-term-id="'+t+'"]').parents(".dp-dfg-filter");n++,1===d.length&&("on"===a.attr("data-multilevel").split("|")[2]&&function t(a,d,e){var i=e.attr("data-parent");if(parseInt(i)){if("dropdown"===d){var n=a.find('.dp-dfg-filters-dropdown[data-parent="'+i+'"]');if(n.css({display:"block"}),"on"===a.attr("data-terms-tags")){var r='<span class="dp-dfg-dropdown-tag" data-id="'+e.find("a").attr("data-term-id")+'">'+e.text()+"</span>";n.find(".dp-dfg-dropdown-placehoder").hide(),n.find(".dp-dfg-dropdown-label").append(r)}}a.find('.dp-dfg-level[data-parent="'+i+'"]').css({display:"flex"});var o=a.find('.dp-dfg-filter-link[data-term-id="'+i+'"]').parents(".dp-dfg-filter");o.find("a").addClass("active"),t(a,d,o)}else if(a.find(".dp-dfg-filter[data-parent=all] > a").removeClass("active"),"dropdown"===d){var s=a.find('.dp-dfg-filters-dropdown[data-parent="'+i+'"]');if("on"===a.attr("data-terms-tags")){var f='<span class="dp-dfg-dropdown-tag" data-id="'+e.find("a").attr("data-term-id")+'">'+e.text()+"</span>";s.find(".dp-dfg-dropdown-placehoder").hide(),s.find(".dp-dfg-dropdown-label").append(f)}}}(a,i,d),n===e.length?o(d,i,!0):o(d,i,!1))}),t(this).attr("data-active-filter",d)}}}),t(document).on("click",".pagination-item .pagination-link",function(d){if(d.preventDefault(),!a){var e=t(this);if(!e.parent(".pagination-item").hasClass("active")){var i=e.parents(".dp-dfg-container"),n=e.attr("data-page");if("on"===i.attr("data-doing-ajax"))return!1;if("sfp"===i.attr("data-third-party")){if(e.hasClass("dp-dfg-page"))return!1;e.parents(".dp-dfg-pagination").find('.dp-dfg-page[data-page="'+n+'"]').click()}else{i.find(".pagination-item.active").removeClass("active"),i.find('.pagination-link[data-page="'+n+'"]').parent(".pagination-item:not(.dp-dfg-direction)").addClass("active"),i.attr("data-page",n);var r=i.find(".dp-dfg-filter a.active").attr("data-term-id");j(i,r,n)?k(i,r,n):p(e)}}}}),t(document).on("click","a.dp-dfg-load-more-button",function(d){if(d.preventDefault(),!a){var e=t(this).parents(".dp-dfg-container");if("on"===e.attr("data-doing-ajax"))return!1;var i=parseInt(e.attr("data-page"));e.attr("data-page",i+1),p(t(this))}}),t(document).on("scroll",function(){if(!a){var d=t(window).scrollTop()+t(window).height();t(document).find(".dp-dfg-ajax-scroll.active").each(function(){var a=t(this),e=a.offset().top;if(d>e+60){var i=a.parents(".dp-dfg-container");if("on"===i.attr("data-doing-ajax"))return!1;var n=parseInt(i.attr("data-page"));i.attr("data-page",n+1),p(a)}})}}),t(document).on("click",".dp-dfg-item",function(a){var d,e=a.target;if(!t(e).is("a")&&!t(e).is("a *")){var i=t(this),n=i.parents(".dp-dfg-container"),r=i.attr("data-action"),o=i.attr("data-action-priority");if(void 0===r&&(r=n.attr("data-action")),"none"===r)return!1;if("video"===o)i.find(".dp-dfg-video-overlay").click();else{var s="on"===n.attr("data-show-thumb")&&1===i.find(".dp-dfg-image-link").length;switch(r){case"link":d=s?i.find(".dp-dfg-image-link").attr("href"):i.attr("data-link"),"on"===i.attr("data-new-tab")?window.open(d):window.location=d;break;case"popup":u(s?i.find(".dp-dfg-image-link").attr("data-ajax-url"):i.attr("data-ajax-url"),i,"post");break;case"lightbox":case"lightbox_gallery":s?c(i.find(".dp-dfg-image-link"),r):void 0!==i.attr("data-img")&&c(i,r);break;case"gallery_cf":s?g(i.find(".dp-dfg-image-link")):void 0!==i.attr("data-images")&&g(i)}i.trigger("dfg_click_action",{item:i,action:r})}}}),t(document).on("click",".dp-dfg-image-link",function(a){var d=t(this),e=d.parents(".dp-dfg-item").attr("data-action");if(void 0===e&&(e=d.parents(".dp-dfg-container").attr("data-action")),"none"===e)return!1;a.preventDefault(),a.stopPropagation(),d.hasClass("entry-thumb-popup")?u(d.attr("data-ajax-url"),d,"post"):d.hasClass("entry-thumb-lightbox")?c(d,e):d.hasClass("entry-thumb-gallery-cf")?g(d):"on"===d.parents(".dp-dfg-item").attr("data-new-tab")?window.open(d.attr("href")):window.location=d.attr("href")}),t(document).on("click","a.dp-dfg-action-button",function(a){a.preventDefault(),t(this).parents(".dp-dfg-item").click()}),t(document).on("click",".dp-dfg-image.entry-video",function(t){t.preventDefault(),t.stopPropagation()}),t(document).on("click",".dp-dfg-video-overlay",function(a){var d=t(this),e=d.parents(".dp-dfg-item"),i=e.attr("data-video-url"),n=e.attr("data-video-action");if(a.preventDefault(),a.stopPropagation(),"play"===n){var r=d.parents(".dp-dfg-image.entry-video").find("video");if(void 0!==r[0])r[0].play(),r.on("play",function(){d.addClass("dp-dfg-video-playing")});else{var o=d.parents(".dp-dfg-image.entry-video").find("iframe"),s=new URL(o.attr("src")),f=s.searchParams;f.set("autoplay","1"),s.search=f.toString();var p=s.toString();o.attr("src",p),d.addClass("dp-dfg-video-playing")}}else"popup"===n&&u(i,e,"video")}),t(document).on("dfg_after_ajax",function(a){var d=t(a.target);if(I(),E(d),D(d),d.hasClass("dp-dfg-skin-itemsinoverlay")&&setTimeout(function(){v(d.find(".dp-dfg-item"),d.attr("data-ratio"))},10),d.hasClass("dp-dfg-layout-masonry")&&setTimeout(function(){b(d)},10),d.hasClass("dp-dfg-layout-masonry-standard")&&setTimeout(function(){C(d,"ajax")},10),d.attr("data-doing-ajax","off"),""!==d.attr("data-jquery-based-filters")){var e=d.attr("data-jquery-based-filters").split("|");d.find(".dp-dfg-filter-link[data-term-id="+e[e.length-1]+"]").removeClass("active").click()}}),a||(window.addEventListener("resize",x),I(),t(".dp-dfg-container").each(function(){D(t(this))}),m(),"function"===typeof imagesLoaded&&(y(),t(".dp-dfg-layout-masonry-standard").each(function(){var a=t(this);a.imagesLoaded(function(){C(a,"init")})})),t(document).on("dfg_open_lightbox",function(a,d){t.magnificPopup.open(d.args,d.start_at)}),t(document).on("dfg_open_popup",function(a,d){t.magnificPopup.open(d.args)}),t(document).on("dfg_open_custom_lightbox",function(a,d){t.magnificPopup.open(d.args)}),t(".dp-dfg-container").each(function(a){var d=t(this);if("on"===d.attr("data-cache")){d.attr("data-number",a);var e=["all"];d.find(".dp-dfg-filter a").each(function(){e.push(t(this).attr("data-term-id"))});var n=[];d.find(".pagination-item:not(.dp-dfg-direction) a").each(function(){n.push(t(this).attr("data-page"))}),0===n.length&&(n=[1]),i[a]=[],e.forEach(function(t){i[a][t]=[],n.forEach(function(d){i[a][t][d]=[]})}),d.hasClass("dp-dfg-skin-itemsinoverlay")?setTimeout(function(){_(d)},100):_(d)}var r=d.attr("data-default-filter"),o=d.attr("data-multilevel");void 0!==o&&"on"===o.split("|")[2]&&("select"===d.find(".dp-dfg-filters").attr("data-layout")?d.find('.dp-dfg-filters-dropdown[data-parent="'+r+'"]').show():d.hasClass("dp-dfg-skin-left-vertical-filters")?d.find('.dp-dfg-level[data-parent="'+r+'"]').css({display:"block"}):d.find('.dp-dfg-level[data-parent="'+r+'"]').css({display:"flex"})),E(d)}),t(".dp-dfg-dropdown-placehoder").each(function(){t(this).siblings("span").length>0&&t(this).hide()}))})}(jQuery)}]);